# Flood-Tool

```
### User instructions

The flood tool package can be used for both calcuation and visualisation of the annual flood risk for a set of user defined locations specified by postcode. 

```
import flood_tool

tool = Tool()
```
```
risk_labels=tool.get_flood_class(self, postcodes, method=1, update=False)
```
This generates a series predicting flood probability classification for a collection of postcodes.
the method argument (shown above) choses the  classification alogorithm with which to train flood risk data with the following conversion: KNN: method=1, RandomForest: method=2, Neural Network : method=3)
```
annual_flood_risk= tool.get_annual_flood_risk(postcodes,risk_labels)
```

where the user can define postcodes to be a list of postcodes they wish to find corresponding data for.
This generates a series of total annual flood risk estimates indexed by locations based on the following formula:

annual flood risk= 0.05x(total postcode property value)x(postcode flood probability)

The visualisations can be viewed by viewing the DataVisualisation.ipynd notebook which, when run shows maps visualising annual flood risk of postcodes.



### Documentation

The code includes [Sphinx](https://www.sphinx-doc.org) documentation. On systems with Sphinx installed, this can be build by running

```
python -m sphinx docs html
```

then viewing the generated `index.html` file in the `html` directory in your browser.

For systems with [LaTeX](https://www.latex-project.org/get/) installed, a manual pdf can be generated by running

```bash
python -m sphinx  -b latex docs latex
```

Then following the instructions to process the `FloodTool.tex` file in the `latex` directory in your browser.

### Testing

The tool includes several tests, which you can use to checki its operation on your system. With [pytest](https://doc.pytest.org/en/latest) installed, these can be run with

```bash
python -m pytest flood_tool
```


### Reading list

 - (A guide to coordinate systems in Great Britain)[https://webarchive.nationalarchives.gov.uk/20081023180830/http://www.ordnancesurvey.co.uk/oswebsite/gps/information/coordinatesystemsinfo/guidecontents/index.html]

 - (Information on postcode validity)[https://assets.publishing.service.gov.uk/government/uploads/system/uploads/attachment_data/file/283357/ILRSpecification2013_14Appendix_C_Dec2012_v1.pdf]
